{% load i18n widget_tweaks %}

<div class="form-check">
    <label class="form-check__label">
        {{ field|add_error_attr:"aria-invalid:true" }}
        {{ field.label }}
    </label>

    {% if field.help_text %}
    <div class="form-hint">
        {{ field.help_text }}
    </div>
    {% endif %}

    {% if field.errors %}
        <ul class="errorlist" aria-live="assertive" aria-atomic="true">
        {% for error in field.errors %}
            <li>{{ error|escape }}</li>
        {% endfor %}
        </ul>
    {% endif %}

    {% if field.errors %}
        {% if field.errors|length > 1 %}
            <ul class="errorlist" aria-live="assertive" aria-atomic="true">
                {% for error in field.errors %}
                    <li>{{ error|escape }}</li>
                {% endfor %}
            </ul>
        {% else %}
            {% include 'meinberlin_contrib/components/alert.html' with alert_message=field.errors.0|escape alert_type='danger' %}
        {% endif %}
    {% endif %}
</div>
