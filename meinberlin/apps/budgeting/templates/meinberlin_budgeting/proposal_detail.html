{% extends "meinberlin_mapideas/mapidea_detail.html" %}
{% load rules i18n humanize contrib_tags react_proposals_vote static %}

{% block extra_js %}
    <script type="text/javascript" src="{% static 'vote_button.js' %}"></script>
    {{ block.super }}
{% endblock %}

{% block additional_labels %}
    {{ block.super }}
    <span class="label label--big test">
        {% if proposal.budget == 0 %}{% translate 'budget not specified' %}{% else %}{{ proposal.budget|intcomma }}â‚¬{% endif %}
    </span>
{% endblock %}

{% block vote_button %}
{% if module.blueprint_type == 'PB3' %}
    {% has_perm 'meinberlin_budgeting.vote_proposal' request.user proposal as vote_allowed %}
    {% if vote_allowed %}
    <div class="offset-lg-3 col-lg-6 u-bottom-divider">
        {% react_proposals_vote view.module proposal %}
    </div>
    {% endif %}
{% endif %}
{% endblock %}
