{% load i18n item_tags contrib_tags moderatorremark_tags react_reports %}

<div class="dropdown">
    <button title="{% translate 'Actions' %}" type="button" class="dropdown-toggle" aria-haspopup="true" aria-expanded="false" id="idea-{{ object.pk }}-actions">
        <i class="fas fa-ellipsis-h" aria-label="{% translate 'Actions' %}"></i>
    </button>
    <nav class="dropdown-menu dropdown-menu-right" aria-labelledby="idea-{{ object.pk }}-actions">
        <ul class="list--clean">
            {% if user_may_change %}
                {% get_item_update_url object as change_url %}
                <li>
                    <a class="dropdown-item" href="{{ change_url }}">{% translate 'edit' %}</a>
                </li>
                {% get_item_delete_url object as delete_url %}
                <li>
                    <a class="dropdown-item" href="{{ delete_url }}">{% translate 'delete' %}</a>
                </li>
            {% endif %}
            {% get_item_url object 'moderate' False as moderate_url %}
            {% if is_moderator and moderate_url %}
                <li>
                    <a class="dropdown-item" href="{{ moderate_url }}">{% translate 'moderate' %}</a>
                </li>
            {% endif %}

            {% block dropdown_items %}{% endblock dropdown_items %}

            <li>
                {% translate 'report' as report_text %}
                {% react_reports object text=report_text class='dropdown-item' %}
            </li>
        </ul>
    </nav>
</div>
