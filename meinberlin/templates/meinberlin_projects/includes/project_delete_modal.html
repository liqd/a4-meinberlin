{% load i18n %}
<div class="modal project-delete-modal" tabindex="-1" role="dialog" id="project-delete-modal" aria-labelledby="project-delete-modal-label">
  <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
    <div class="modal-content">
        <div class="modal-header">
          <h2 id="project-delete-modal-label">{% translate 'Delete' %}</h2>
          <button type="button" class="close" data-bs-dismiss="modal" aria-label="{% translate 'Close' %}">
            <i class="fa fa-times" aria-hidden="true"></i>
          </button>
        </div>
        <div class="modal-body">
            {% blocktrans %}Sind Sie sicher dass Sie das Projekt '<span id="project-delete-name"></span>' l√∂schen wollen?{% endblocktrans %}
        </div>
        <div class="modal-buttons">
            <button type="button" data-bs-dismiss="modal" class="link">{% translate 'Cancel' %}</button>
            <form id="project-delete-form" enctype="multipart/form-data" action="" method="post" class="u-inline">
              {% csrf_token %}
              <button type="submit" class="dashboard-delete-btn">
                <i class="fas fa-trash-alt" aria-hidden="true"></i>
                {% translate 'Delete' %}
              </button>
            </form>
        </div>
    </div>
  </div>
</div>

<script>
  (function() {
    var modal = document.getElementById('project-delete-modal');
    if (!modal) return;
    modal.addEventListener('show.bs.modal', function (event) {
      var trigger = event.relatedTarget;
      if (!trigger) return;
      var url = trigger.getAttribute('data-delete-url');
      var name = trigger.getAttribute('data-project-name');
      var form = document.getElementById('project-delete-form');
      var nameEl = document.getElementById('project-delete-name');
      if (form) form.setAttribute('action', url || '');
      if (nameEl) nameEl.textContent = name || '';
    });
  })();
  </script>
 
 
