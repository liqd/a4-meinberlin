{% extends "base.html" %}
{% load i18n socialaccount %}

{% block title %}{% trans "User Dashboard" %} &mdash; {{ block.super }}{% endblock %}

{% block content %}

<div class="l-wrapper">
    <div class="menu-layout">

        <nav class="menu-layout__menu dashboard-nav" aria-label="{% trans 'User Dashboard navigation' %}">
            <div class="dropdown dashboard-nav__dropdown">
                <div class="dashboard-nav__item">
                    {{ request.user.username }}
                </div>
            </div>
            {% with request.resolver_match.url_name as url_name %}
                <ul class="dashboard-nav__pages">
                    <li class="dashboard-nav__page">
                        <a href="{% url 'account_profile' %}"
                           class="dashboard-nav__item dashboard-nav__item--interactive {% if request.resolver_match.url_name == "account_profile" %}is-active{% endif %}">
                            {% trans 'Profile' %}
                        </a>
                    </li>
                    <li class="dashboard-nav__page">
                        <a href="{% url 'account_actions' %}"
                           class="dashboard-nav__item dashboard-nav__item--interactive {% if request.resolver_match.url_name == "account_actions" %}is-active{% endif %}">
                            {% trans 'Activities' %}
                        </a>
                    </li>
                    <li class="dashboard-nav__page">
                        <a href="{% url 'account_change_password' %}"
                           class="dashboard-nav__item dashboard-nav__item--interactive {% if request.resolver_match.url_name == "account_change_password" %}is-active{% endif %}">
                            {% trans 'Change password' %}
                        </a>
                    </li>
                    <li class="dashboard-nav__page">
                        <a href="{% url 'account_email' %}"
                           class="dashboard-nav__item dashboard-nav__item--interactive {% if request.resolver_match.url_name == "account_email" %}is-active{% endif %}">
                            {% trans 'Email addresses' %}
                        </a>
                    </li>
                    {% get_providers as socialaccount_providers %}
                    {% if socialaccount_providers %}
                    <li class="dashboard-nav__page">
                        <a href="{% url 'socialaccount_connections' %}"
                           class="dashboard-nav__item dashboard-nav__item--interactive {% if request.resolver_match.url_name == "socialaccount_connections" %}is-active{% endif %}">
                            {% trans 'Account Connections' %}
                        </a>
                    </li>
                    {% endif %}
                </ul>
            {% endwith %}
        </nav>

        <div class="menu-layout__content">
            {% block dashboard_content %}{% endblock %}
        </div>

    </div>
</div>

{% endblock %}
